<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/neon-animation/web-animations.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="shared-styles.html">

<dom-module id="survey-grid">
	<template>
		<style include="shared-styles iron-flex iron-flex-alignment">
			:host {
				display : block;
				padding : 10px;
			}

			paper-button.cancel {
				background-color : var(--paper-red-400);
				color            : white;
			}

			paper-button.submit {
				background-color : var(--paper-green-400);
				color            : white;
			}

			paper-dialog {
				z-index : 1000;
			}

			paper-dropdown-menu, .subInput {
				@apply --layout-flex;
				margin : 0 8px;
			}

			#surveyInputs {
				@apply --layout-horizontal;
			}

			ul {
				list-style   : none;
				padding-left : 0;
			}

			@media ( min-width : 767px ) {
				paper-dialog {
					max-width : 30vw;
				}
			}

			@media ( max-width : 767px ) {
				:host {

				}

				#surveyContainer, .textAreas {
					@apply --layout-vertical;
				}

			}
		</style>

		<!--<iron-ajax id="dbQueryIA"
				   auto
				   url="http://138.85.123.229/php/dbquery.php"
				   content-type="application/x-www-form-urlencoded"
				   method="POST"
				   body="[[params]]"
				   on-response="handleResponse"
				   last-response="{{response}}"
				   on-error="_confirmError">
		</iron-ajax>-->

		<vaadin-grid aria-label="Basic Binding Example" items="[[items]]">

			<vaadin-grid-column width="50px" flex-grow="0">
				<template class="header">#</template>
				<template>[[index]]</template>
			</vaadin-grid-column>

			<vaadin-grid-column>
				<template class="header">First Name</template>
				<template>
					<paper-input value="{{item.firstName::input}}"></paper-input>
				</template>
			</vaadin-grid-column>

			<vaadin-grid-column>
				<template class="header">Last Name</template>
				<template>
					<paper-input value="{{item.lastName::input}}"></paper-input>
				</template>
			</vaadin-grid-column>

			<vaadin-grid-column>
				<template class="header">Email</template>
				<template>
					<paper-input value="{{item.email::input}}"></paper-input>
				</template>
			</vaadin-grid-column>

			<vaadin-grid-column>
				<template class="header">Application</template>
				<template>
					<paper-input value="{{item.app::input}}"></paper-input>
				</template>
			</vaadin-grid-column>

			<vaadin-grid-column>
				<template class="header">Request Type</template>
				<template>
					<paper-input value="{{item.type::input}}"></paper-input>
				</template>
			</vaadin-grid-column>

			<vaadin-grid-column>
				<template class="header">REQ #</template>
				<template>
					<paper-input value="{{item.req::input}}"></paper-input>
				</template>
			</vaadin-grid-column>

		</vaadin-grid>

	</template>

	<script>
      class SurveyGrid extends Polymer.Element {
        static get is () {
          return 'survey-grid';
        }

        static get properties () {
          return {
            items : {
              type   : Object,
              notify : true
            }
          };
        }

        static get observers () {
          return [];
        }

        _confirmError ( err ) {
          this.$.applications.disabled = true;
          console.error( err );
        }

        handleResponse ( res ) {

        }

        ready () {
          super.ready();
          //this.addEventListener( 'iron-deselect', e => this._menuDeselect( e ) );
        }
      }

      window.customElements.define( SurveyGrid.is, SurveyGrid );
	</script>
</dom-module>
